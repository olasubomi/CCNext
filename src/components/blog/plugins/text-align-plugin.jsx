import { useLexicalComposerContext } from "@lexical/react/LexicalComposerContext";
import { FORMAT_ELEMENT_COMMAND, FORMAT_TEXT_COMMAND } from "lexical";
import { useState } from "react";

export const TextAlignPluginPlugin = () => {
  const [editor] = useLexicalComposerContext();
  const [isUnderline, setIsUnderline] = useState(false);

  const toggleUnderline = () => {
    editor.dispatchCommand(FORMAT_ELEMENT_COMMAND, "center");
    setIsUnderline((prev) => !prev);
  };

  return (
    <button
      className={`${
        isUnderline ? "bg-zinc-200" : "bg-white"
      } w-[45px] toolbar-button h-[45px] border font-bold text-[30px] border-[#000] flex justify-center items-center rounded-md cursor-pointer`}
      onClick={toggleUnderline}
    >
      <svg
        width="29"
        height="29"
        viewBox="0 0 29 29"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_7889_16742)">
          <path
            d="M1.02487 7.0224H27.3179C27.5503 7.0224 27.7732 6.93006 27.9376 6.7657C28.102 6.60133 28.1943 6.37841 28.1943 6.14596C28.1943 5.91352 28.102 5.6906 27.9376 5.52623C27.7732 5.36187 27.5503 5.26953 27.3179 5.26953H1.02487C0.792426 5.26953 0.569502 5.36187 0.405139 5.52623C0.240776 5.6906 0.148438 5.91352 0.148438 6.14596C0.148438 6.37841 0.240776 6.60133 0.405139 6.7657C0.569502 6.93006 0.792426 7.0224 1.02487 7.0224ZM6.28347 10.5281H22.0593C22.2917 10.5281 22.5146 10.4358 22.679 10.2714C22.8434 10.1071 22.9357 9.88414 22.9357 9.6517C22.9357 9.41925 22.8434 9.19633 22.679 9.03197C22.5146 8.8676 22.2917 8.77526 22.0593 8.77526H6.28347C6.05102 8.77526 5.8281 8.8676 5.66374 9.03197C5.49937 9.19633 5.40704 9.41925 5.40704 9.6517C5.40704 9.88414 5.49937 10.1071 5.66374 10.2714C5.8281 10.4358 6.05102 10.5281 6.28347 10.5281ZM27.3179 12.281H1.02487C0.792426 12.281 0.569502 12.3733 0.405139 12.5377C0.240776 12.7021 0.148438 12.925 0.148438 13.1574C0.148438 13.3899 0.240776 13.6128 0.405139 13.7772C0.569502 13.9415 0.792426 14.0339 1.02487 14.0339H27.3179C27.5503 14.0339 27.7732 13.9415 27.9376 13.7772C28.102 13.6128 28.1943 13.3899 28.1943 13.1574C28.1943 12.925 28.102 12.7021 27.9376 12.5377C27.7732 12.3733 27.5503 12.281 27.3179 12.281ZM6.28347 17.5396H22.0593C22.2917 17.5396 22.5146 17.4473 22.679 17.2829C22.8434 17.1185 22.9357 16.8956 22.9357 16.6632C22.9357 16.4307 22.8434 16.2078 22.679 16.0434C22.5146 15.8791 22.2917 15.7867 22.0593 15.7867H6.28347C6.05102 15.7867 5.8281 15.8791 5.66374 16.0434C5.49937 16.2078 5.40704 16.4307 5.40704 16.6632C5.40704 16.8956 5.49937 17.1185 5.66374 17.2829C5.8281 17.4473 6.05102 17.5396 6.28347 17.5396ZM27.3179 19.2925H1.02487C0.792426 19.2925 0.569502 19.3848 0.405139 19.5492C0.240776 19.7135 0.148438 19.9365 0.148438 20.1689C0.148438 20.4013 0.240776 20.6243 0.405139 20.7886C0.569502 20.953 0.792426 21.0453 1.02487 21.0453H27.3179C27.5503 21.0453 27.7732 20.953 27.9376 20.7886C28.102 20.6243 28.1943 20.4013 28.1943 20.1689C28.1943 19.9365 28.102 19.7135 27.9376 19.5492C27.7732 19.3848 27.5503 19.2925 27.3179 19.2925ZM22.0593 22.7982H6.28347C6.05102 22.7982 5.8281 22.8905 5.66374 23.0549C5.49937 23.2193 5.40704 23.4422 5.40704 23.6746C5.40704 23.9071 5.49937 24.13 5.66374 24.2944C5.8281 24.4587 6.05102 24.5511 6.28347 24.5511H22.0593C22.2917 24.5511 22.5146 24.4587 22.679 24.2944C22.8434 24.13 22.9357 23.9071 22.9357 23.6746C22.9357 23.4422 22.8434 23.2193 22.679 23.0549C22.5146 22.8905 22.2917 22.7982 22.0593 22.7982Z"
            fill="#1C1C1C"
          />
        </g>
        <defs>
          <clipPath id="clip0_7889_16742">
            <rect
              width="28.0459"
              height="28.0459"
              fill="white"
              transform="translate(0.148438 0.888672)"
            />
          </clipPath>
        </defs>
      </svg>
    </button>
  );
};
