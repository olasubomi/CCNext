import { useLexicalComposerContext } from "@lexical/react/LexicalComposerContext";
import { FORMAT_TEXT_COMMAND } from "lexical";

export const TextFormatPlugin = () => {
  const [editor] = useLexicalComposerContext();

  const toggle = (action) => {
    editor.dispatchCommand(FORMAT_TEXT_COMMAND, action);
  };

  return (
    <div className="flexer-box plugin-box text-format">
      <svg
        width="9"
        height="12"
        onClick={() => toggle("bold")}
        viewBox="0 0 9 12"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M0.0113636 12V0.363636H4.67045C5.52652 0.363636 6.24053 0.49053 6.8125 0.744318C7.38447 0.998106 7.81439 1.35038 8.10227 1.80114C8.39015 2.24811 8.53409 2.76326 8.53409 3.34659C8.53409 3.80114 8.44318 4.20076 8.26136 4.54545C8.07955 4.88636 7.82955 5.16667 7.51136 5.38636C7.19697 5.60227 6.83712 5.75568 6.43182 5.84659V5.96023C6.875 5.97917 7.28977 6.10417 7.67614 6.33523C8.06629 6.56629 8.38258 6.89015 8.625 7.30682C8.86742 7.7197 8.98864 8.21212 8.98864 8.78409C8.98864 9.40152 8.83523 9.95265 8.52841 10.4375C8.22538 10.9186 7.77652 11.2992 7.18182 11.5795C6.58712 11.8598 5.85417 12 4.98295 12H0.0113636ZM2.47159 9.98864H4.47727C5.16288 9.98864 5.66288 9.85795 5.97727 9.59659C6.29167 9.33144 6.44886 8.97917 6.44886 8.53977C6.44886 8.2178 6.37121 7.93371 6.21591 7.6875C6.06061 7.44129 5.83902 7.24811 5.55114 7.10795C5.26705 6.9678 4.92803 6.89773 4.53409 6.89773H2.47159V9.98864ZM2.47159 5.23295H4.29545C4.63258 5.23295 4.93182 5.17424 5.19318 5.05682C5.45833 4.93561 5.66667 4.76515 5.81818 4.54545C5.97348 4.32576 6.05114 4.0625 6.05114 3.75568C6.05114 3.33523 5.90152 2.99621 5.60227 2.73864C5.30682 2.48106 4.88636 2.35227 4.34091 2.35227H2.47159V5.23295Z"
          fill="#161616"
        />
      </svg>

      <svg
        width="5"
        height="12"
        onClick={() => toggle("italic")}
        viewBox="0 0 5 12"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M4.02273 0.363636L2.09091 12H0.681818L2.61364 0.363636H4.02273Z"
          fill="#161616"
        />
      </svg>

      <svg
        width="12"
        height="17"
        onClick={() => toggle("underline")}
        viewBox="0 0 12 17"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M9.04545 0.363636H10.4545V8.06818C10.4545 8.86364 10.267 9.57386 9.89205 10.1989C9.52083 10.8201 8.99621 11.3106 8.31818 11.6705C7.64015 12.0265 6.8447 12.2045 5.93182 12.2045C5.01894 12.2045 4.22348 12.0265 3.54545 11.6705C2.86742 11.3106 2.34091 10.8201 1.96591 10.1989C1.5947 9.57386 1.40909 8.86364 1.40909 8.06818V0.363636H2.81818V7.95455C2.81818 8.52273 2.94318 9.02841 3.19318 9.47159C3.44318 9.91098 3.79924 10.2576 4.26136 10.5114C4.72727 10.7614 5.28409 10.8864 5.93182 10.8864C6.57955 10.8864 7.13636 10.7614 7.60227 10.5114C8.06818 10.2576 8.42424 9.91098 8.67045 9.47159C8.92045 9.02841 9.04545 8.52273 9.04545 7.95455V0.363636Z"
          fill="#161616"
        />
        <path d="M0 15.1818H11.8636V16.2727H0V15.1818Z" fill="#161616" />
      </svg>

      <svg
        width="13"
        height="18"
        viewBox="0 0 13 18"
        fill="none"
        onClick={() => toggle("code")}
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M2.88636 13H1.40909L5.68182 1.36364H7.13636L11.4091 13H9.93182L6.45455 3.20455H6.36364L2.88636 13ZM3.43182 8.45455H9.38636V9.70455H3.43182V8.45455Z"
          fill="#161616"
        />
        <rect y="16" width="13" height="2" fill="#2FAA00" />
      </svg>
    </div>
  );
};
